<div class="card radius-15">
  <div class="card-body">
    <div class="card-title ps-3">
      <div class="row">
        <div class="col-9">
          <h4 class="mb-0">Departments</h4>
        </div>
        <div class="col-3 ms-auto text-end">
          <button class="btn btn-primary text-white  px-3" (click)="addDepartment()">
            <i class="bx bx-plus-circle mr-1"></i>
            Add Department</button>
        </div>
      </div>
    </div>
    <hr>

    <div class="card border-top border-0 border-4 border-primary">
      <div class="card-body">
        <table class="table table-striped" width="1--%">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Name</th>
              <th scope="col">Status</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let department of departments;index as i">
              <td class="text-capitalize align-middle">{{department.createdAt | dateformat :'MMM DD YYYY hh:mm A' }}</td>
              <td class="text-capitalize align-middle">{{department.name}}</td>
              <td class="form-switch pt-3">
                <input type="checkbox" 
                  (click)="updateStatus(department._id,department.status)"
                  class="form-check-input" style="margin-left:auto !important"  [checked]="department.status ? true : null">
              </td>
              <td class="pt-3" >
                <i class='bx bxs-edit-alt text-primary cursor-pointer box-icon-size ' (click)="editDepartment(department._id)"></i>
                <i class='bx bxs-trash  text-danger cursor-pointer box-icon-size ' (click)="deleteDepartment(department._id,department.name)"></i>
              </td>
            </tr>
          </tbody>
        </table>
        <div *ngIf="departments?.length > 0" class="row justify-content-center m-0 pt-3">
          <div class="col-auto d-flex justify-content-center text-center">
            <ngb-pagination [pageSize]="pageSize" [collectionSize]="collectionSize" [(page)]="page" [maxSize]="5"
              [rotate]="true" [boundaryLinks]="true">
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
